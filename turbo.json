{
  "$schema": "https://turborepo.org/schema.json",
  "pipeline": {
    "lint": {},
    "build": {
      "dependsOn": ["^build"],
      "outputs": ["dist/**"]
    },
    "build:testnet": {
      "dependsOn": ["^build:testnet"],
      "outputs": ["dist/**"]
    },
    "@nocturne-xyz/contracts#build": {},
    "@nocturne-xyz/config#build": {
      "dependsOn": ["@nocturne-xyz/contracts#build"]
    },
    "@nocturne-xyz/sdk#build": {
      "dependsOn": [
        "@nocturne-xyz/contracts#build",
        "@nocturne-xyz/config#build",
        "@nocturne-xyz/subgraph#build"
      ]
    },
    "@nocturne-xyz/deploy#build": {
      "dependsOn": [
        "@nocturne-xyz/contracts#build",
        "@nocturne-xyz/config#build",
        "@nocturne-xyz/sdk#build"
      ]
    },
    "@nocturne-xyz/subgraph#build": {
      "dependsOn": ["@nocturne-xyz/contracts#build"]
    },
    "@nocturne-xyz/bundler#build": {
      "dependsOn": [
        "@nocturne-xyz/contracts#build",
        "@nocturne-xyz/sdk#build",
        "@nocturne-xyz/config#build",
        "@nocturne-xyz/offchain-utils#build"
      ]
    },
    "@nocturne-xyz/snap#build": {
      "dependsOn": ["@nocturne-xyz/sdk#build"]
    },
    "@nocturne-xyz/local-prover#build": {
      "dependsOn": ["@nocturne-xyz/sdk#build"]
    },
    "@nocturne-xyz/test-actor#build": {
      "dependsOn": [
        "@nocturne-xyz/contracts#build",
        "@nocturne-xyz/sdk#build",
        "@nocturne-xyz/config#build",
        "@nocturne-xyz/local-prover#build",
        "@nocturne-xyz/offchain-utils#build"
      ]
    },
    "@nocturne-xyz/deposit-screener#build": {
      "dependsOn": [
        "@nocturne-xyz/contracts#build",
        "@nocturne-xyz/sdk#build",
        "@nocturne-xyz/config#build",
        "@nocturne-xyz/offchain-utils#build"
      ]
    },
    "@nocturne-xyz/frontend-sdk#build": {
      "dependsOn": [
        "@nocturne-xyz/contracts#build",
        "@nocturne-xyz/local-prover#build",
        "@nocturne-xyz/sdk#build"
      ]
    },
    "@nocturne-xyz/site#build": {
      "dependsOn": [
        "@nocturne-xyz/sdk#build",
        "@nocturne-xyz/local-prover#build",
        "@nocturne-xyz/frontend-sdk#build"
      ]
    },
    "@nocturne-xyz/e2e-tests#build": {
      "dependsOn": [
        "@nocturne-xyz/contracts#build",
        "@nocturne-xyz/sdk#build",
        "@nocturne-xyz/deploy#build",
        "@nocturne-xyz/subtree-updater#build",
        "@nocturne-xyz/local-prover#build",
        "@nocturne-xyz/bundler#build",
        "@nocturne-xyz/deposit-screener#build",
        "@nocturne-xyz/offchain-utils#build"
      ]
    },
    "@nocturne-xyz/subtree-updater#build": {
      "dependsOn": [
        "@nocturne-xyz/sdk#build",
        "@nocturne-xyz/local-prover#build",
        "@nocturne-xyz/circuits#build",
        "@nocturne-xyz/contracts#build",
        "@nocturne-xyz/offchain-utils#build"
      ]
    },
    "test": {
      "dependsOn": ["build"],
      "outputs": []
    },
    "test:unit": {
      "dependsOn": ["build"]
    },
    "@nocturne-xyz/subtree-updater#test:unit": {
      "dependsOn": ["build", "@nocturne-xyz/sdk#test:unit"],
      "env": ["USE_RAPIDSNARK"]
    },
    "test:ci": {
      "dependsOn": ["build"],
      "outputs": []
    },
    "test:e2e": {
      "dependsOn": ["build"],
      "outputs": [],
      "env": ["USE_RAPIDSNARK", "ACTUALLY_PROVE_SUBTREE_UPDATE"]
    }
  }
}
