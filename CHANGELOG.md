# Changelog (for misc. changes outside of packages)

### Pre-Release

- overhauled monorepo structure:
  - move actors out of `packages` into a separate `actors` dir 
  - move snap out of `packages` into a separate `app` dir
  - move `crypto-utils` into monorepo
  - add entry to `CODEOWNERS` for `crypto-utils`
  - add unnecessary large files to `.dockerignore`, reducing build context size from 9GB to 2GB
  - change actor dockerfiles s.t. they pull entire monorepo into build context to allow containers to use workspace deps
  - remove all package-specific docker build/push scripts
  - change `prepare_docker.sh` and `push_docker` s.t. it takes a `-o` option for specifying a specific actor to build
  - rename `prepare_docker.sh` to `build_docker.sh`
  - change local dev setup start actors with nodemon instead of docker
  - add turborepo "root script" for `deployAndDeposit.ts`
  - add turborepo `dev` script that stands up the entire system tracking necessary dependencies
  - add `dev.sh`, which is just a shim to get around turborepo not handling long-running deps
  - move `setup_subgraph.sh` into E2E test dir, as that's the only place it's used
  - remove `run_local.sh`
  - remove unused scripts from root pacakge.json
  - update `scripts/README.md`
  - add `changesets`
- Removed old site
- site script runs new subtree updater:
  - use docker compose
  - update env file with new redis url
- add `M1_README` for M1 users
- move `rebuild_graph_m1.sh` to root `scripts`
- add README to scripts dir
- `prepare_docker.sh` builds containers, not docker compose for bundler and deposit screener
- `prepare_docker.sh` takes a `-p` option for specifying whether or not to use rapidsnark
- rename `Wallet` to `Teller` across all packages
- instead of copying localhost config to snap, dev site rebuilds config package, then rebuilds snap, such that when snap runs, can draw on updated config pkg
- update prettier in all packages
- site script starts snap after deposit script completes
- site script points deposit-screener to config file instead of passing in wallet address
- site script points bundler to config file instead of passing in wallet address
- `yarn clean` now simply runs clean in each package and removes turbo cache
- remove fresh build from precommit hook
- add precommit hooks for lint, prettier, and fresh build
- add `--no-daemon` workaround to fix turbo (see https://github.com/vercel/turbo/issues/4137)
- site script uses explicit block time instead of automine
- site script prints handler address
- add foundryup to ci workflow
- reduce sleeps
- site script uses anvil test accounts
- site script uses anvil instead of hardhat
- site script starts anvil instead of using start
- Site script works with wallet<>handler separation
- have site script pass in subtree updater address to deploy script
- site script works with deposit screener
- site script feeds snap gas tokens
- Site script logs deposit manager
- Site script uses dockerized hardhat instead of `npx hardhat node`
- Add `yarn test:e2e` back to CI with new github workflow file
- Add root `.eslintrc` file and have all packages but `contracts` and `site` inherit from it
